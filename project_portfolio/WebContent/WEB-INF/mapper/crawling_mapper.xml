<?xml version='1.0' encoding='utf-8'?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
						"https://mybatis.org/dtd/mybatis-3-mapper.dtd">
						
<mapper namespace="project_portfolio_crawling">
	<!-- 크롤링 입력 -->
	<!-- sysdate()는 db쪽에서 설정시 datetime해서 사용한것이고 timestamp를 사용한다면 job_date 그대로 사용해도 된다. -->
	<insert id ="Crawling_Write" parameterType ="com.test.been.CrawlingBean">
		<!-- 아래의 selectKey는 글번호를 Auto_increment으로 자동으로 올라가게 하기 위함이다 -->
		<selectKey keyProperty='c_index' order="BEFORE" 
	               resultType="java.lang.Integer">
			SELECT Auto_increment 
			FROM information_schema.tables 
			WHERE table_name='crawling'
		</selectKey>
		
		insert into crawling
			(
			c_index, 
			c_title, 
			c_ranking, 
			c_date, 
			)
		values
			(
			#{c_index},
			#{c_title}, 
			#{c_ranking}, 
			sysdate()
			)	
	</insert>
</mapper>